# Copyright (c) 2010 - 2014 Marwan Abdellah <abdellah.marwan@gmail.com>

IF(APPLE)
    INCLUDE_DIRECTORIES ("/System/Library/Frameworks")

    FIND_LIBRARY(OPENGL_LIBRARY OpenGL REQUIRED)

    MARK_AS_ADVANCED(OPENGL_LIBRARY)

    SET(OPENGL_INCLUDE_DIR "/usr/X11R6/include/")
    INCLUDE_DIRECTORIES(${OPENGL_INCLUDE_DIR})

    SET(OPENGL_LIB_DIR "/usr/X11R6/lib")
    LINK_DIRECTORIES(${OPENGL_LIB_DIR})

    IF(NOT OPENGL_LIBRARY STREQUAL "")
        MESSAGE(STATUS "OpenGL Found")
    ELSE(NOT OPENGL_LIBRARY STREQUAL "")
        MESSAGE(FATAL_ERROR "OpenGL NOT Found")
    ENDIF(NOT OPENGL_LIBRARY STREQUAL "")

    LINK_LIBRARIES(${OPENGL_LIBRARY})

# Linux
ELSE(APPLE)
    FIND_PACKAGE(OpenGL REQUIRED)
    IF(OPENGL_FOUND)
        MESSAGE(STATUS "OpenGL Found")
        INCLUDE_DIRECTORIES(${OPENGL_INCLUDE_DIR})
        LINK_LIBRARIES(${OPENGL_LIBRARY})
    ELSE(OPENGL_FOUND)
        MESSAGE(FATAL_ERROR "OpenGL NOT Found")
    ENDIF(OPENGL_FOUND)
ENDIF(APPLE)

INCLUDE(FindPackageHandleStandardArgs)
FIND_PACKAGE_HANDLE_STANDARD_ARGS(OpenGL DEFAULT_MSG
    OPENGL_INCLUDE_DIR
    OPENGL_LIBRARY)
